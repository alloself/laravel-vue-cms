{"version":3,"sources":["webpack:///./src/pages/TextBlock/TextBlockDetail.vue?92df","webpack:///src/pages/TextBlock/TextBlockDetail.vue","webpack:///./src/pages/TextBlock/TextBlockDetail.vue?c2f9","webpack:///./src/pages/TextBlock/TextBlockDetail.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","_v","_s","createView","$route","params","computedEntity","title","on","val","$set","entityPatch","content","order","pages","images","create","update","remove","staticRenderFns","data","methods","setVal","console","log","computed","Object","keys","length","component"],"mappings":"yHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,cAAc,CAACE,MAAM,CAAC,MAAQ,KAAK,CAACF,EAAG,SAAS,CAACA,EAAG,eAAe,CAACJ,EAAIO,GAAGP,EAAIQ,GAAGR,EAAIS,WAAa,UAAY,KAAQT,EAAIU,OAAOC,OAAS,IAAI,IAAIX,EAAIQ,GAAGR,EAAIS,WAAa,cAAe,OAAOL,EAAG,cAAc,CAACA,EAAG,SAAS,CAACA,EAAG,eAAe,CAACE,MAAM,CAAC,SAAW,GAAG,MAAQ,YAAY,MAAQN,EAAIY,eAAeC,OAAOC,GAAG,CAAC,MAAQ,SAAUC,GAAO,OAAOf,EAAIgB,KAAKhB,EAAIiB,YAAY,QAAQF,OAAWX,EAAG,aAAa,CAACE,MAAM,CAAC,SAAW,GAAG,MAAQ,UAAU,MAAQN,EAAIY,eAAeM,SAASJ,GAAG,CAAC,MAAQ,SAAUC,GAAO,OAAOf,EAAIgB,KAAKhB,EAAIiB,YAAY,UAAUF,OAAWX,EAAG,eAAe,CAACE,MAAM,CAAC,SAAW,GAAG,MAAQ,YAAY,MAAQN,EAAIY,eAAeO,OAAOL,GAAG,CAAC,MAAQ,SAAUC,GAAO,OAAOf,EAAIgB,KAAKhB,EAAIiB,YAAY,QAAQF,OAAWX,EAAG,iBAAiB,CAACE,MAAM,CAAC,aAAa,KAAK,YAAY,QAAQ,SAAW,GAAG,MAAQN,EAAIY,eAAeQ,MAAM,MAAQpB,EAAIoB,MAAM,SAAW,GAAG,MAAQ,YAAYN,GAAG,CAAC,OAAS,SAAUC,GAAO,OAAOf,EAAIgB,KAAKhB,EAAIiB,YAAY,QAAQF,OAAWX,EAAG,YAAY,CAACE,MAAM,CAAC,MAAQN,EAAIY,eAAeS,QAAQP,GAAG,CAAC,MAAQ,SAAUC,GAAO,OAAOf,EAAIgB,KAAKhB,EAAIiB,YAAY,SAASF,QAAY,IAAI,GAAGX,EAAG,iBAAiB,CAACA,EAAG,YAAaJ,EAAc,WAAEI,EAAG,QAAQ,CAACE,MAAM,CAAC,KAAO,GAAG,UAAY,GAAG,MAAQ,WAAWQ,GAAG,CAAC,MAAQd,EAAIsB,SAAS,CAACtB,EAAIO,GAAG,aAAa,CAACH,EAAG,QAAQ,CAACE,MAAM,CAAC,KAAO,GAAG,UAAY,GAAG,MAAQ,WAAWQ,GAAG,CAAC,MAAQd,EAAIuB,SAAS,CAACvB,EAAIO,GAAG,cAAcH,EAAG,QAAQ,CAACE,MAAM,CAAC,KAAO,GAAG,UAAY,GAAG,MAAQ,WAAWQ,GAAG,CAAC,MAAQd,EAAIwB,SAAS,CAACxB,EAAIO,GAAG,eAAe,IAAI,IAAI,IAC1lDkB,EAAkB,G,0DCoDtB,GACEC,KAAM,WAAR,OACA,UACA,eACA,WAEEC,QAAS,OAAX,OAAW,CAAX,kBACA,4BACA,eACA,YACA,eACA,kBALA,IAOIC,OAPJ,SAOA,cACM,OAAO,SAAb,GACQC,QAAQC,IAAIf,GACZ,IAAR,oBACQ,EAAR,0BAGI,OAdJ,WAcA,gLACA,8BADA,gBACA,EADA,EACA,GACA,uDAFA,8CAII,OAlBJ,WAkBA,8KACA,8BADA,OACA,EADA,OAEA,WAFA,8CAII,OAtBJ,WAsBA,wKACA,yBADA,OAEA,oCAFA,gDAKE,QAjCF,WAiCA,kKACA,kCADA,gCAEA,gCAFA,OAEA,EAFA,OAGA,WACA,oCAJA,8CAOE,QAxCF,WAwCA,kLACA,yBADA,mBACA,EADA,EACA,KACA,WACA,mBAHA,iCAIA,gCAJA,OAIA,EAJA,OAKA,WACA,oCANA,+CASEgB,SAAU,OAAZ,OAAY,CAAZ,kBACA,4BADA,IAEInB,eAFJ,WAGM,OAAO,iCAAb,gCAEIH,WALJ,WAMM,OAAQuB,OAAOC,KAAKhC,KAAKS,OAAOC,QAAQuB,WC5G0T,I,YCOpWC,EAAY,eACd,EACApC,EACA0B,GACA,EACA,KACA,KACA,MAIa,aAAAU,E","file":"js/chunk-2d0c4f7d.0f673953.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{attrs:{\"fluid\":\"\"}},[_c('v-card',[_c('v-card-title',[_vm._v(_vm._s(_vm.createView ? 'Создать': (\"# \" + (_vm.$route.params.id)))+\" \"+_vm._s(_vm.createView ? 'блок текста' :''))]),_c('v-card-text',[_c('v-form',[_c('v-text-field',{attrs:{\"outlined\":\"\",\"label\":\"Заголовок\",\"value\":_vm.computedEntity.title},on:{\"input\":function (val) { return _vm.$set(_vm.entityPatch,'title',val); }}}),_c('v-textarea',{attrs:{\"outlined\":\"\",\"label\":\"Контент\",\"value\":_vm.computedEntity.content},on:{\"input\":function (val) { return _vm.$set(_vm.entityPatch,'content',val); }}}),_c('v-text-field',{attrs:{\"outlined\":\"\",\"label\":\"Приоритет\",\"value\":_vm.computedEntity.order},on:{\"input\":function (val) { return _vm.$set(_vm.entityPatch,'order',val); }}}),_c('v-autocomplete',{attrs:{\"item-value\":\"id\",\"item-text\":\"title\",\"multiple\":\"\",\"value\":_vm.computedEntity.pages,\"items\":_vm.pages,\"outlined\":\"\",\"label\":\"Страницы\"},on:{\"change\":function (val) { return _vm.$set(_vm.entityPatch,'pages',val); }}}),_c('ui-images',{attrs:{\"value\":_vm.computedEntity.images},on:{\"input\":function (val) { return _vm.$set(_vm.entityPatch,'images',val); }}})],1)],1),_c('v-card-actions',[_c('v-spacer'),(_vm.createView)?_c('v-btn',{attrs:{\"dark\":\"\",\"depressed\":\"\",\"color\":\"primary\"},on:{\"click\":_vm.create}},[_vm._v(\"Создать\")]):[_c('v-btn',{attrs:{\"dark\":\"\",\"depressed\":\"\",\"color\":\"primary\"},on:{\"click\":_vm.update}},[_vm._v(\"Обновить\")]),_c('v-btn',{attrs:{\"dark\":\"\",\"depressed\":\"\",\"color\":\"warning\"},on:{\"click\":_vm.remove}},[_vm._v(\"Удалить\")])]],2)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-container fluid>\n    <v-card>\n      <v-card-title>{{ createView ? 'Создать': `# ${$route.params.id}` }} {{ createView ? 'блок текста' :'' }}</v-card-title>\n      <v-card-text>\n        <v-form>\n          <v-text-field\n            outlined\n            label=\"Заголовок\"\n            :value=\"computedEntity.title\"\n            @input=\"(val) => $set(entityPatch,'title',val)\"\n          ></v-text-field>\n          <v-textarea\n            outlined\n            label=\"Контент\"\n            :value=\"computedEntity.content\"\n            @input=\"(val) => $set(entityPatch,'content',val)\"\n          ></v-textarea>\n          <v-text-field\n            outlined\n            label=\"Приоритет\"\n            :value=\"computedEntity.order\"\n            @input=\"(val) => $set(entityPatch,'order',val)\"\n          ></v-text-field>\n          <v-autocomplete\n            item-value=\"id\"\n            item-text=\"title\"\n            multiple\n            :value=\"computedEntity.pages\"\n            @change=\"(val) => $set(entityPatch,'pages',val)\"\n            :items=\"pages\"\n            outlined\n            label=\"Страницы\"\n          ></v-autocomplete>\n          <ui-images\n            :value=\"computedEntity.images\"\n            @input=\"(val) => $set(entityPatch,'images',val)\"\n          ></ui-images>\n        </v-form>\n      </v-card-text>\n      <v-card-actions>\n        <v-spacer></v-spacer>\n        <v-btn @click=\"create\" dark depressed color=\"primary\" v-if=\"createView\">Создать</v-btn>\n        <template v-else>\n          <v-btn @click=\"update\" dark depressed color=\"primary\">Обновить</v-btn>\n          <v-btn @click=\"remove\" dark depressed color=\"warning\">Удалить</v-btn>\n        </template>\n      </v-card-actions>\n    </v-card>\n  </v-container>\n</template>\n<script>\nimport { mapActions, mapState } from \"vuex\";\nexport default {\n  data: () => ({\n    entity: {},\n    entityPatch: {},\n    pages: [],\n  }),\n  methods: {\n    ...mapActions(\"textBlock\", [\n      \"createEntity\",\n      \"getEntity\",\n      \"deleteEntity\",\n      \"updateEntity\",\n    ]),\n    setVal(prop) {\n      return (val) => {\n        console.log(val);\n        const value = val === undefined ? null : val;\n        this.$set(this.entityPatch, prop, value);\n      };\n    },\n    async create() {\n      const { id } = await this.createEntity(this.entityPatch);\n      this.$router.push({ name: \"TextBlockDetail\", params: { id } });\n    },\n    async update() {\n      const data = await this.updateEntity(this.entityPatch);\n      this.entity = data;\n    },\n    async remove() {\n      await this.deleteEntity(this.entity);\n      this.$router.push({ name: `TextBlocks` });\n    },\n  },\n  async updated() {\n    if (this.$route.params.id && this.entity === {}) {\n      const data = await this.getEntity(this.$route.params.id);\n      this.entity = data;\n      this.entityPatch.id = this.$route.params.id;\n    }\n  },\n  async mounted() {\n    const { data } = await this.client.get(\"all/page\");\n    this.pages = data;\n    if (this.$route.params.id) {\n      const data = await this.getEntity(this.$route.params.id);\n      this.entity = data;\n      this.entityPatch.id = this.$route.params.id;\n    }\n  },\n  computed: {\n    ...mapState([\"client\"]),\n    computedEntity() {\n      return { ...this.entity, ...this.entityPatch };\n    },\n    createView() {\n      return !Object.keys(this.$route.params).length;\n    },\n  },\n};\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TextBlockDetail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TextBlockDetail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TextBlockDetail.vue?vue&type=template&id=06f9d637&\"\nimport script from \"./TextBlockDetail.vue?vue&type=script&lang=js&\"\nexport * from \"./TextBlockDetail.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}