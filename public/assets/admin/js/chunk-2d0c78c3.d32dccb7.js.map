{"version":3,"sources":["webpack:///./src/pages/Page/PageDetail.vue?cc10","webpack:///src/pages/Page/PageDetail.vue","webpack:///./src/pages/Page/PageDetail.vue?54fe","webpack:///./src/pages/Page/PageDetail.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","_v","_s","createView","$route","params","entity","title","on","val","entityPatch","path","keywords","description","parent_id","pages","Boolean","index_page","create","update","remove","staticRenderFns","data","computed","Object","keys","length","methods","component"],"mappings":"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","file":"js/chunk-2d0c78c3.d32dccb7.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{attrs:{\"fluid\":\"\"}},[_c('v-card',[_c('v-card-title',[_vm._v(_vm._s(_vm.createView ? 'Создать': (\"# \" + (_vm.$route.params.id)))+\" \"+_vm._s(_vm.createView ? 'страницу' :''))]),_c('v-card-text',[_c('v-form',[_c('v-text-field',{attrs:{\"outlined\":\"\",\"label\":\"Заголовок\",\"value\":_vm.entity.title},on:{\"input\":function (val) { return _vm.entityPatch.title = val; }}}),_c('v-text-field',{attrs:{\"outlined\":\"\",\"label\":\"URL\",\"value\":_vm.entity.path},on:{\"input\":function (val) { return _vm.entityPatch.path = val; }}}),_c('v-text-field',{attrs:{\"outlined\":\"\",\"label\":\"Keywords\",\"value\":_vm.entity.keywords},on:{\"input\":function (val) { return _vm.entityPatch.keywords = val; }}}),_c('v-text-field',{attrs:{\"outlined\":\"\",\"label\":\"Description\",\"value\":_vm.entity.description},on:{\"input\":function (val) { return _vm.entityPatch.description = val; }}}),_c('v-autocomplete',{attrs:{\"item-value\":\"id\",\"item-text\":\"title\",\"value\":_vm.entity.parent_id,\"items\":_vm.pages,\"outlined\":\"\",\"label\":\"Родительская страница\"},on:{\"change\":function (val) { return _vm.entityPatch.parent_id = val; }}}),_c('v-checkbox',{attrs:{\"value\":Boolean(_vm.entity.index_page),\"label\":\"Главная страница\"},on:{\"change\":function (val) { return _vm.entityPatch.index_page = Boolean(val); }}})],1)],1),_c('v-card-actions',[_c('v-spacer'),(_vm.createView)?_c('v-btn',{attrs:{\"dark\":\"\",\"depressed\":\"\",\"color\":\"primary\"},on:{\"click\":_vm.create}},[_vm._v(\"Создать\")]):[_c('v-btn',{attrs:{\"dark\":\"\",\"depressed\":\"\",\"color\":\"primary\"},on:{\"click\":_vm.update}},[_vm._v(\"Обновить\")]),_c('v-btn',{attrs:{\"dark\":\"\",\"depressed\":\"\",\"color\":\"warning\"},on:{\"click\":_vm.remove}},[_vm._v(\"Удалить\")])]],2)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-container fluid>\n    <v-card>\n      <v-card-title>{{ createView ? 'Создать': `# ${$route.params.id}` }} {{ createView ? 'страницу' :'' }}</v-card-title>\n      <v-card-text>\n        <v-form>\n          <v-text-field\n            outlined\n            label=\"Заголовок\"\n            :value=\"entity.title\"\n            @input=\"(val) => entityPatch.title = val\"\n          ></v-text-field>\n          <v-text-field\n            outlined\n            label=\"URL\"\n            :value=\"entity.path\"\n            @input=\"(val) => entityPatch.path = val\"\n          ></v-text-field>\n          <v-text-field\n            outlined\n            label=\"Keywords\"\n            :value=\"entity.keywords\"\n            @input=\"(val) => entityPatch.keywords = val\"\n          ></v-text-field>\n          <v-text-field\n            outlined\n            label=\"Description\"\n            :value=\"entity.description\"\n            @input=\"(val) => entityPatch.description = val\"\n          ></v-text-field>\n          <v-autocomplete\n            item-value=\"id\"\n            item-text=\"title\"\n            :value=\"entity.parent_id\"\n            @change=\"(val) => entityPatch.parent_id = val\"\n            :items=\"pages\"\n            outlined\n            label=\"Родительская страница\"\n          ></v-autocomplete>\n          <v-checkbox\n            :value=\"Boolean(entity.index_page)\"\n            @change=\"(val) => entityPatch.index_page = Boolean(val)\"\n            label=\"Главная страница\"\n          ></v-checkbox>\n        </v-form>\n      </v-card-text>\n      <v-card-actions>\n        <v-spacer></v-spacer>\n        <v-btn @click=\"create\" dark depressed color=\"primary\" v-if=\"createView\">Создать</v-btn>\n        <template v-else>\n          <v-btn @click=\"update\" dark depressed color=\"primary\">Обновить</v-btn>\n          <v-btn @click=\"remove\" dark depressed color=\"warning\">Удалить</v-btn>\n        </template>\n      </v-card-actions>\n    </v-card>\n  </v-container>\n</template>\n<script>\nimport { mapActions, mapState } from \"vuex\";\nexport default {\n  data: () => ({\n    entity: {},\n    entityPatch: {},\n    pages: [],\n  }),\n  computed: {\n    ...mapState([\"client\"]),\n    createView() {\n      return !Object.keys(this.$route.params).length;\n    },\n  },\n  methods: {\n    ...mapActions(\"page\", [\n      \"createEntity\",\n      \"getEntity\",\n      \"deleteEntity\",\n      \"updateEntity\",\n    ]),\n    async create() {\n      const { id } = await this.createEntity(this.entityPatch);\n      this.$router.push({ name: \"PageDetail\", params: { id } });\n    },\n    async update() {\n      const data = await this.updateEntity(this.entityPatch);\n      this.entity = data;\n    },\n    async remove() {\n      await this.deleteEntity(this.entity);\n      this.$router.push({ name: `Pages` });\n    },\n  },\n  async updated() {\n    if (this.$route.params.id && this.entity === {}) {\n      const data = await this.getEntity(this.$route.params.id);\n      this.entity = data;\n      this.entityPatch.id = this.$route.params.id;\n    }\n  },\n  async mounted() {\n    const { data } = await this.client.get(\"all/page\");\n    this.pages = data;\n    if (this.$route.params.id) {\n      const data = await this.getEntity(this.$route.params.id);\n      this.entity = data;\n      this.entityPatch.id = this.$route.params.id;\n    }\n  },\n};\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PageDetail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PageDetail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PageDetail.vue?vue&type=template&id=0ed0a54f&\"\nimport script from \"./PageDetail.vue?vue&type=script&lang=js&\"\nexport * from \"./PageDetail.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}